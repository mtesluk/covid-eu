(this["webpackJsonpcovid-eu"]=this["webpackJsonpcovid-eu"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(45),s=a.n(r),c=(a(81),a(82),a(13)),l=a(5),i=a(46),u=a(47),m=a(54),p=a(53),d=(a(83),a(116)),g=a(48),f=a.n(g),v=a(2),h=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).ref=o.a.createRef(),n.state={loading:!0,coronaData:{},width:0,endpoints:{countries:"https://coronavirus-19-api.herokuapp.com/countries",map:"./eu.json"}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;getComputedStyle||alert("Not supported");var t=getComputedStyle(this.ref.current),a=this.ref.current.clientWidth;a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);var n=v.e(".map__tooltip"),o=.8*a,r=v.b().translate([a/3,1.3*o]).scale([a/1.8]),s=v.c().projection(r),c=v.e(".map__svg").attr("width",a).attr("height",o),i=v.d(this.state.endpoints.map,{headers:{Accept:"application/json; odata=verbose"}}),u=f.a.get(this.state.endpoints.countries);Promise.all([i,u]).then((function(t){var a=t[0],o=e._getCountries(t[1].data,a.features.map((function(e){return e.properties})));c.selectAll("path").data(a.features).enter().append("path").attr("d",s).attr("fill",(function(t){var a,n=t.properties.name;return e._manageColors(null===(a=o[n])||void 0===a?void 0:a.cases)})).attr("stroke",(function(e){return"red"})).on("touchstart",(function(t){var a,r=t.properties.name;e._setTooltip(n,{pageX:v.a.targetTouches.screenX,pageY:v.a.targetTouches.screenY,countryName:r,cases:null===(a=o[r])||void 0===a?void 0:a.cases})})).on("mouseover",(function(t){var a,r=t.properties.name;e._setTooltip(n,{pageX:v.a.pageX,pageY:v.a.pageY,countryName:r,cases:null===(a=o[r])||void 0===a?void 0:a.cases})})).on("mouseout",(function(t){e._setTooltip(n)})),e.setState(Object(l.a)({},e.state,{loading:!1})),e.setState(Object(l.a)({},e.state,{coronaData:o}))}))}},{key:"_manageColors",value:function(e){if(!e)return"#ff0909";for(var t=0,a=[{min:0,max:1e3,color:"#fff1d9"},{min:1001,max:1e4,color:"#fdcd8b"},{min:10001,max:5e4,color:"#b55440"},{min:50001,max:1e5,color:"#b53828"},{min:100001,max:320001,color:"#500000"}];t<a.length;t++){var n=a[t];if(e>n.min&&e<n.max)return n.color}return"#000"}},{key:"_setTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?(t=Object(l.a)({display:"block",pageX:0,pageY:0,countryName:"none",cases:0},t),e.style("display",t.display).style("left",t.pageX-40+"px").style("top",t.pageY-40+"px").style("cursor","none").text("Country: "+t.countryName+" Cases: "+t.cases||!1)):e.style("display","none")}},{key:"_getCountries",value:function(e,t){var a=t.map((function(e){return e.sovereignt}));return e=(e=e.filter((function(e){return a.includes(e.country)}))).reduce((function(e,t){return Object(l.a)({},e,Object(c.a)({},t.country,t))}),{})}},{key:"_getBackgroundcolor",value:function(e){return{backgroundColor:e}}},{key:"render",value:function(){return o.a.createElement("div",{className:"map",ref:this.ref},this.state.loading&&o.a.createElement(d.a,{className:"map__progress",color:"secondary"}),o.a.createElement("h1",{className:"map__title"},"Stats of COVID-19 in Europe"),o.a.createElement("div",{className:"map__legend"},o.a.createElement("h3",{className:"map__legend-title"},"Legend (illness cases)"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#fff1d9")},"0-1000"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#fdcd8b")},"1001-10000"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#b55440")},"10001-50000"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#b53828")},"50001-100000"),o.a.createElement("div",{className:"map__legend-element",style:Object(l.a)({},this._getBackgroundcolor("#500000"),{color:"white"})},"100001-320001")),o.a.createElement("div",{className:"map__tooltip"}),o.a.createElement("svg",{className:"map__svg"}),o.a.createElement("p",{className:"map__footer"},"Source: https://coronavirus-19-api.herokuapp.com/countries"))}}]),a}(o.a.Component),_=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(105)},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.4519dc9f.chunk.js.map