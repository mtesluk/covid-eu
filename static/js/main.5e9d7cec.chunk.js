(this["webpackJsonpcovid-eu"]=this["webpackJsonpcovid-eu"]||[]).push([[0],{64:function(e,t,a){e.exports=a(89)},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(39),c=a.n(r),s=(a(69),a(70),a(9)),l=a(5),i=a(40),u=a(41),m=a(44),p=a(43),d=(a(71),a(42)),f=a.n(d),g=a(2),v=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={coronaData:{},endpoints:{countries:"https://coronavirus-19-api.herokuapp.com/countries",map:"./eu.json"}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=g.e(".map__tooltip"),a=g.b().center([13,52]).translate([400,300]).scale([800/1.5]),n=g.c().projection(a),o=g.e(".map").append("svg").attr("width",800).attr("height",600),r=g.d(this.state.endpoints.map,{headers:{Accept:"application/json; odata=verbose"}}),c=f.a.get(this.state.endpoints.countries);Promise.all([r,c]).then((function(a){var r=a[0],c=e._getCountries(a[1].data,r.features.map((function(e){return e.properties})));o.selectAll("path").data(r.features).enter().append("path").attr("d",n).attr("fill",(function(t){var a,n=t.properties.name;return e._manageColors(null===(a=c[n])||void 0===a?void 0:a.cases)})).attr("stroke",(function(e){return"red"})).on("mouseover",(function(a){var n,o=a.properties.name;e._setTooltip(t,{pageX:g.a.pageX,pageY:g.a.pageY,countryName:o,cases:null===(n=c[o])||void 0===n?void 0:n.cases})})).on("mouseout",(function(a){e._setTooltip(t)})),e.setState(Object(l.a)({},e.state,{coronaData:c}))}))}},{key:"_manageColors",value:function(e){if(!e)return"#ff0909";for(var t=0,a=[{min:0,max:1e3,color:"#fff1d9"},{min:1001,max:1e4,color:"#fdcd8b"},{min:10001,max:5e4,color:"#b55440"},{min:50001,max:1e5,color:"#b53828"},{min:100001,max:320001,color:"#500000"}];t<a.length;t++){var n=a[t];if(e>n.min&&e<n.max)return n.color}return"#000"}},{key:"_setTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?(t=Object(l.a)({display:"block",pageX:0,pageY:0,countryName:"none",cases:0},t),e.style("display",t.display).style("left",t.pageX-40+"px").style("top",t.pageY-40+"px").style("cursor","none").text("Country: "+t.countryName+" Cases: "+t.cases||!1)):e.style("display","none")}},{key:"_getCountries",value:function(e,t){var a=t.map((function(e){return e.sovereignt}));return e=(e=e.filter((function(e){return a.includes(e.country)}))).reduce((function(e,t){return Object(l.a)({},e,Object(s.a)({},t.country,t))}),{})}},{key:"_getBackgroundcolor",value:function(e){return{backgroundColor:e}}},{key:"render",value:function(){return o.a.createElement("div",{className:"map"},o.a.createElement("h1",null,"Zaka\u017cenia i zgony spowodowane COVID-19 w Europie"),o.a.createElement("h1",null,"Zr\xf3d\u0142o: https://coronavirus-19-api.herokuapp.com/countries"),o.a.createElement("h3",null,"Legenda (ilo\u015b\u0107 zaka\u017ce\u0144)"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#fff1d9")},"0-1000 os\xf3b"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#fdcd8b")},"1001-10000 os\xf3b"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#b55440")},"10001-50000 os\xf3b"),o.a.createElement("div",{className:"map__legend-element",style:this._getBackgroundcolor("#b53828")},"50001-100000 os\xf3b"),o.a.createElement("div",{className:"map__legend-element",style:Object(l.a)({},this._getBackgroundcolor("#500000"),{color:"white"})},"100001-220001 os\xf3b"),o.a.createElement("div",{className:"map__tooltip"}))}}]),a}(o.a.Component),h=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.5e9d7cec.chunk.js.map