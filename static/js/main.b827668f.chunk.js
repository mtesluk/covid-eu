(this["webpackJsonpcovid-eu"]=this["webpackJsonpcovid-eu"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),c=a.n(o),s=(a(82),a(53)),l=(a(83),a(13)),i=a(4),u=a(46),m=a(47),p=a(55),d=a(54),f=(a(84),a(119)),v=a(48),g=a.n(v),h=a(5),_=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).ref=r.a.createRef(),n.state={loading:!0,coronaData:{},width:0,endpoints:{countries:"https://coronavirus-19-api.herokuapp.com/countries",map:"./eu.json"}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;getComputedStyle||alert("Not supported");var t=getComputedStyle(this.ref.current),a=this.ref.current.clientWidth;a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);h.d(".map__tooltip");var n=.8*a,r=h.a().translate([a/4,1.6*n]).scale([a/1.1]),o=h.b().projection(r),c=h.d(".map__svg").attr("width",a).attr("height",n),s=h.c(this.state.endpoints.map,{headers:{Accept:"application/json; odata=verbose"}}),l=g.a.get(this.state.endpoints.countries);Promise.all([s,l]).then((function(t){var a=t[0],n=e._getCountries(t[1].data,a.features.map((function(e){return e.properties})));c.selectAll("path").data(a.features).enter().append("path").attr("d",o).attr("fill",(function(t){var a,r=t.properties.name;return e._manageColors(null===(a=n[r])||void 0===a?void 0:a.cases)})).attr("stroke",(function(e){return"red"})).on("touchstart",(function(e){})).on("mouseover",(function(t){var a,r=t.properties.name;e.props.setPickedData({countryName:r,cases:null===(a=n[r])||void 0===a?void 0:a.cases})})).on("mouseout",(function(e){})),e.setState(Object(i.a)({},e.state,{loading:!1})),e.setState(Object(i.a)({},e.state,{coronaData:n}))}))}},{key:"_manageColors",value:function(e){if(!e)return"#ff0909";for(var t=0,a=[{min:0,max:1e3,color:"#fff1d9"},{min:1001,max:1e4,color:"#fdcd8b"},{min:10001,max:5e4,color:"#b55440"},{min:50001,max:1e5,color:"#b53828"},{min:100001,max:320001,color:"#500000"}];t<a.length;t++){var n=a[t];if(e>n.min&&e<n.max)return n.color}return"#000"}},{key:"_setTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?(t=Object(i.a)({display:"block",pageX:0,pageY:0,countryName:"none",cases:0},t),e.style("display",t.display).style("left",t.pageX-40+"px").style("top",t.pageY-40+"px").style("cursor","none").text("Country: "+t.countryName+" Cases: "+t.cases||!1)):e.style("display","none")}},{key:"_getCountries",value:function(e,t){var a=t.map((function(e){return e.sovereignt}));return e=(e=e.filter((function(e){return a.includes(e.country)}))).reduce((function(e,t){return Object(i.a)({},e,Object(l.a)({},t.country,t))}),{})}},{key:"render",value:function(){return r.a.createElement("div",{className:"map",ref:this.ref},this.state.loading&&r.a.createElement(f.a,{className:"map__progress",color:"secondary"}),r.a.createElement("svg",{className:"map__svg"}),r.a.createElement("div",{className:"map__tooltip"}))}}]),a}(r.a.Component),y=(a(106),function(e){return r.a.createElement("div",{className:"info"},r.a.createElement("p",null,e.countryName),r.a.createElement("p",null,e.cases),r.a.createElement("p",{className:"info__footer"},"Source: https://coronavirus-19-api.herokuapp.com/countries"))}),E=function(e){return r.a.createElement("div",null,"123")},b=(a(107),function(e){return{backgroundColor:e}}),N=function(e){return r.a.createElement("div",{className:"legend"},r.a.createElement("div",{className:"legend__element",style:b("#fff1d9")},"0-1000"),r.a.createElement("div",{className:"legend__element",style:b("#fdcd8b")},"1001-10000"),r.a.createElement("div",{className:"legend__element",style:b("#b55440")},"10001-50000"),r.a.createElement("div",{className:"legend__element",style:b("#b53828")},"50001-100000"),r.a.createElement("div",{className:"legend__element",style:Object(i.a)({},b("#500000"),{color:"white"})},"100001-320001"))},k=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__info"},r.a.createElement(y,a)),r.a.createElement("div",{className:"app__charts"},r.a.createElement(E,null)),r.a.createElement("div",{className:"app__content"},r.a.createElement(_,{setPickedData:o})),r.a.createElement("div",{className:"app__legend"},r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a(108)},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.b827668f.chunk.js.map